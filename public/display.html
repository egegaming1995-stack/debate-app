<!doctype html>
body{ font-family: Inter, Arial, sans-serif; background:#0f172a; color:#fff; display:flex; align-items:center; justify-content:center; height:100vh; margin:0 }
.card{ background:linear-gradient(180deg,#111827 0%, #0b1220 100%); padding:36px; border-radius:16px; box-shadow:0 10px 30px rgba(2,6,23,0.6); min-width:480px; text-align:center }
h1{ margin:0 0 12px; font-size:28px }
.counts{ display:flex; gap:40px; justify-content:center; margin-top:18px }
.choice{ min-width:160px }
.num{ font-size:72px; margin-top:6px }
.label{ font-size:14px; color:#cbd5e1 }
#reset{ margin-top:20px; padding:8px 12px; border-radius:10px; cursor:pointer; background:#ef4444; border:none; color:white }
</style>
</head>
<body>
<div class="card">
<h1>Canlı Oylama</h1>
<div class="counts">
<div class="choice">
<div class="label">Takım A</div>
<div id="teamA" class="num">0</div>
</div>
<div class="choice">
<div class="label">Takım B</div>
<div id="teamB" class="num">0</div>
</div>
</div>
<button id="reset">Sıfırla (Gerekirse)</button>
</div>


<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();
const teamAEl = document.getElementById('teamA');
const teamBEl = document.getElementById('teamB');
const resetBtn = document.getElementById('reset');


socket.on('votes-updated', (votes) => {
teamAEl.textContent = votes.teamA;
teamBEl.textContent = votes.teamB;
});


resetBtn.addEventListener('click', async () => {
if(!confirm('Oyları sıfırlamak istediğine emin misin?')) return;
try{
const res = await fetch('/api/reset', { method: 'POST' });
if(res.ok) alert('Sıfırlandı');
}catch(e){ alert('Hata'); }
});
</script>
</body>
</html>
